import{a as _,Q as p}from"./QToolbar-BiMzdSH1.js";import{Q as f}from"./ImageFullscreen-D_JowLWA.js";import{b as h,a as Q,Q as P}from"./QList-NYyNkstu.js";import{Q as x}from"./QBanner-B5gWPA-k.js";import{Q as y}from"./QPagination-CfHhOZsF.js";import{Q as k,a as S}from"./QInnerLoading-DA1P_EJf.js";import{Q as U}from"./QPage-BFCFRqG0.js";import{a3 as b,N as C,Q as B,o as v,_ as I,S as o,T as u,U as t,V as a,Y as l,a4 as m,a5 as V,a6 as w,X as g,a0 as E}from"./index-DjZidwi3.js";import{g as T}from"./users-Bpn_3JQb.js";import{S as L}from"./StatusEnums-Cpn04w7a.js";import{U as N}from"./UserPhoto-DjNUlehv.js";import"./focus-manager-zjdVGI5d.js";import"./use-dark-D_lfRTDq.js";import"./QInput-CHeOjWWK.js";const F=b("users",{state:()=>({users:[],meta:{},currentPage:1,loading:!1,status:L.OnReview}),actions:{async fetchUsers(){this.loading=!0;try{const n=await T(this.currentPage);this.users=n.data.data,this.meta=n.data.meta,this.currentPage=this.meta.current_page}catch{}finally{this.loading=!1}}}}),q=C({__name:"IndexPage",setup(n,{expose:r}){r();const d=B(),e=F(),c=s=>{e.currentPage=s,e.fetchUsers()};v(()=>{e.fetchUsers()});const i={router:d,store:e,handlePageChange:c,UserPhoto:N};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),z={key:1,class:"q-mt-md text-center"},D={key:2,class:"q-pa-lg flex flex-center"};function O(n,r,d,e,c,i){return o(),u(U,{padding:""},{default:t(()=>[a(p,null,{default:t(()=>[a(_,null,{default:t(()=>r[1]||(r[1]=[l("Пользователи")])),_:1})]),_:1}),e.store.users.length>0?(o(),u(h,{key:0},{default:t(()=>[(o(!0),m(w,null,V(e.store.users,s=>(o(),u(Q,{onClick:R=>e.router.push({name:"users.edit",params:{id:s.id}}),key:s.id,clickable:""},{default:t(()=>[a(f,{avatar:""},{default:t(()=>[a(e.UserPhoto,{user:s,size:"3rem",width:48,height:48},null,8,["user"])]),_:2},1024),a(f,null,{default:t(()=>[a(P,null,{default:t(()=>[l(E(s.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})):(o(),m("div",z,[a(x,null,{default:t(()=>r[2]||(r[2]=[l(" Нет пользователей ")])),_:1})])),e.store.meta.last_page>1?(o(),m("div",D,[e.store.meta?(o(),u(y,{key:0,modelValue:e.store.currentPage,"onUpdate:modelValue":[r[0]||(r[0]=s=>e.store.currentPage=s),e.handlePageChange],min:1,max:e.store.meta.last_page,"max-pages":7,"boundary-numbers":""},null,8,["modelValue","max"])):g("",!0)])):g("",!0),a(S,{showing:e.store.loading},{default:t(()=>[a(k,{size:"5rem",color:"primary"})]),_:1},8,["showing"])]),_:1})}const ae=I(q,[["render",O],["__file","IndexPage.vue"]]);export{ae as default};
