import{M as C,N as h,r as E,o as b,_ as D,Q as r,R as l,S as s,V as c,T as a,U as p,W as n,Y as f,Z as S,a1 as B}from"./index-tVqCDBWc.js";import{a as x,Q as F}from"./QToolbar-bxqVFmD_.js";import{Q as v}from"./QChip-W0XZ3hDA.js";import{Q as A}from"./QCardSection-DCd2w4Oo.js";import{Q as P}from"./QCardActions-BztyiOXS.js";import{Q as T}from"./QCard-Rw1JuSIr.js";import{Q as j,a as q}from"./QInnerLoading-DGsgliZA.js";import{Q as N}from"./QPage-D1QdM-xN.js";import{u as H}from"./use-quasar-sR5BCAzR.js";import{a as R,b as V,r as L}from"./specialists-CZxWKCs0.js";import{S as z}from"./StatusEnums-Cpn04w7a.js";import{S as I}from"./SpecialistPhoto-6suKyZm8.js";import{D as M}from"./DateTime-Bc1zk4Dl.js";import{u as O}from"./stat-store-CE5o807L.js";import{F as G}from"./FilesList-CN71Yg6b.js";import"./use-dark-BIT_reWm.js";import"./use-transition-DEfjUciZ.js";import"./ImageFullscreen-VLi1eqJp.js";import"./QDialog-BnU62fEy.js";import"./focus-manager-BJWzFvJg.js";import"./format-DyQxkAtJ.js";import"./QItem-NUfpMue4.js";import"./QList-BfxjGaDa.js";import"./QBanner-BU8BdDJC.js";const U=C({__name:"ShowPage",props:{id:{type:Number,required:!0}},setup(_,{expose:t}){t();const d=_,e=H(),g=h(),m=O(),o=E(!1),u=E(null),y=async()=>{o.value=!0;try{const i=await R(d.id);u.value=i.data.data}finally{o.value=!1}},Q=async()=>{if(u.value){o.value=!0;try{const i=await V(u.value.id);u.value=i.data.specialist,e.notify({message:i.data.message,color:"positive",position:"top",timeout:3e3}),await m.fetchStats()}finally{o.value=!1}}},k=async()=>{if(u.value){o.value=!0;try{const i=await L(u.value.id);u.value=i.data.specialist,e.notify({message:i.data.message,color:"positive",position:"top",timeout:3e3}),await m.fetchStats()}finally{o.value=!1}}};b(()=>{y()});const w={props:d,$q:e,router:g,statStore:m,loading:o,specialist:u,fetchSpecialistHandler:y,approveSpecialistHandler:Q,rejectSpecialistHandler:k,get StatusEnum(){return z},SpecialistPhoto:I,DateTime:M,FilesList:G};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}}),W={class:"text-h6"},Y={class:"q-mt-sm"},Z={class:"q-mt-sm"},J={key:3,class:"q-mt-sm"};function K(_,t,d,e,g,m){return e.specialist?(r(),l(N,{key:0,padding:""},{default:s(()=>[a(F,null,{default:s(()=>[a(p,{flat:"",icon:"arrow_back",onClick:t[0]||(t[0]=o=>e.router.go(-1))}),a(x,null,{default:s(()=>t[1]||(t[1]=[n("Информация о специалисте")])),_:1})]),_:1}),a(e.SpecialistPhoto,{specialist:e.specialist,fullscreen:!0,size:"14rem",width:224,height:224,class:"q-mb-md cursor-pointer"},null,8,["specialist"]),a(T,{bordered:""},{default:s(()=>[a(A,null,{default:s(()=>[f("div",W,S(e.specialist.lastname)+" "+S(e.specialist.name),1),e.specialist.status===e.StatusEnum.Accepted?(r(),l(v,{key:0,color:"green","text-color":"white",icon:"check"},{default:s(()=>t[2]||(t[2]=[n(" Подтверждён ")])),_:1})):e.specialist.status===e.StatusEnum.Rejected?(r(),l(v,{key:1,color:"red","text-color":"white",icon:"block"},{default:s(()=>t[3]||(t[3]=[n(" Отклонён ")])),_:1})):e.specialist.status===e.StatusEnum.OnReview?(r(),l(v,{key:2,color:"orange","text-color":"white",icon:"hourglass_empty"},{default:s(()=>t[4]||(t[4]=[n(" На проверке ")])),_:1})):c("",!0),f("div",Y,"Телефон: "+S(e.specialist.phone),1),f("div",Z,[t[5]||(t[5]=n(" Дата регистрации: ")),a(e.DateTime,{"raw-date":e.specialist.created_at},null,8,["raw-date"])]),e.specialist.files?(r(),B("div",J,[t[6]||(t[6]=n(" Документы: ")),a(e.FilesList,{files:e.specialist.files},null,8,["files"])])):c("",!0)]),_:1}),a(P,null,{default:s(()=>[e.specialist.status!=e.StatusEnum.Accepted&&!e.loading?(r(),l(p,{key:0,label:"Подтвердить",color:"green",onClick:e.approveSpecialistHandler})):c("",!0),e.specialist.status!=e.StatusEnum.Rejected&&!e.loading?(r(),l(p,{key:1,label:"Отклонить",color:"red",onClick:e.rejectSpecialistHandler})):c("",!0)]),_:1})]),_:1}),a(q,{showing:e.loading},{default:s(()=>[a(j,{size:"5rem",color:"primary"})]),_:1},8,["showing"])]),_:1})):c("",!0)}const Qe=D(U,[["render",K],["__file","ShowPage.vue"]]);export{Qe as default};
