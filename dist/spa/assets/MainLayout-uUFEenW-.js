import{r as O,i as tt,o as ne,c as Y,b as re,n as De,e as ye,h as T,g as ae,l as Le,f as Ee,j as X,k as v,w as k,m as zt,p as Se,q as He,P as wt,s as pt,t as ue,u as Ct,v as be,x as qe,y as $e,z as Oe,A as Ae,B as Te,C as _t,D as te,E as Fe,F as lt,G as qt,H as Ot,I as Tt,J as at,K as kt,L as ge,M as Bt,N as xt,O as Mt,Q as Pt,_ as Lt,R as At,S as A,T as D,U as b,V as y,W as Ie,X as oe,Y as j,Z as se,$ as ke,a0 as Dt,a1 as ce}from"./index-BWeAa12D.js";import{Q as Et,a as Ht}from"./QToolbar-CSPdEhGe.js";import{Q as W,a as de,b as je}from"./QList-DKG-1yBc.js";import{u as Qt,a as Rt,b as Vt,c as $t,d as Ft,e as U,f as It,s as jt,g as Nt,h as Wt,i as Ut,j as Ne,k as Be,l as xe,Q,m as Xt}from"./ImageFullscreen-C9jQqfIY.js";import{u as ot,a as nt}from"./use-dark-Bc9c4c3V.js";import{u as Yt}from"./use-quasar-DLt4aatT.js";import{U as Kt}from"./UserPhoto-DQGDp3VF.js";import{u as Gt}from"./stat-store-tQfgxQHD.js";import"./focus-manager-zjdVGI5d.js";function Jt(){const e=O(!tt.value);return e.value===!1&&ne(()=>{e.value=!0}),{isHydrated:e}}const rt=typeof ResizeObserver<"u",We=rt===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},he=Y({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:o}){let u=null,n,t={width:-1,height:-1};function l(f){f===!0||e.debounce===0||e.debounce==="0"?r():u===null&&(u=setTimeout(r,e.debounce))}function r(){if(u!==null&&(clearTimeout(u),u=null),n){const{offsetWidth:f,offsetHeight:c}=n;(f!==t.width||c!==t.height)&&(t={width:f,height:c},o("resize",t))}}const{proxy:a}=ae();if(a.trigger=l,rt===!0){let f;const c=s=>{n=a.$el.parentNode,n?(f=new ResizeObserver(l),f.observe(n),r()):s!==!0&&ye(()=>{c(!0)})};return ne(()=>{c()}),re(()=>{u!==null&&clearTimeout(u),f!==void 0&&(f.disconnect!==void 0?f.disconnect():n&&f.unobserve(n))}),De}else{let f=function(){u!==null&&(clearTimeout(u),u=null),p!==void 0&&(p.removeEventListener!==void 0&&p.removeEventListener("resize",l,Le.passive),p=void 0)},c=function(){f(),n&&n.contentDocument&&(p=n.contentDocument.defaultView,p.addEventListener("resize",l,Le.passive),r())};const{isHydrated:s}=Jt();let p;return ne(()=>{ye(()=>{n=a.$el,n&&c()})}),re(f),()=>{if(s.value===!0)return T("object",{class:"q--avoid-card-border",style:We.style,tabindex:-1,type:"text/html",data:We.url,"aria-hidden":"true",onLoad:c})}}}}),Zt=Y({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:o,emit:u}){const{proxy:{$q:n}}=ae(),t=Ee(Se,X);if(t===X)return console.error("QHeader needs to be child of QLayout"),X;const l=O(parseInt(e.heightHint,10)),r=O(!0),a=v(()=>e.reveal===!0||t.view.value.indexOf("H")!==-1||n.platform.is.ios&&t.isContainer.value===!0),f=v(()=>{if(e.modelValue!==!0)return 0;if(a.value===!0)return r.value===!0?l.value:0;const m=l.value-t.scroll.value.position;return m>0?m:0}),c=v(()=>e.modelValue!==!0||a.value===!0&&r.value!==!0),s=v(()=>e.modelValue===!0&&c.value===!0&&e.reveal===!0),p=v(()=>"q-header q-layout__section--marginal "+(a.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(c.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),z=v(()=>{const m=t.rows.value.top,L={};return m[0]==="l"&&t.left.space===!0&&(L[n.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),m[2]==="r"&&t.right.space===!0&&(L[n.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),L});function g(m,L){t.update("header",m,L)}function S(m,L){m.value!==L&&(m.value=L)}function E({height:m}){S(l,m),g("size",m)}function x(m){s.value===!0&&S(r,!0),u("focusin",m)}k(()=>e.modelValue,m=>{g("space",m),S(r,!0),t.animate()}),k(f,m=>{g("offset",m)}),k(()=>e.reveal,m=>{m===!1&&S(r,e.modelValue)}),k(r,m=>{t.animate(),u("reveal",m)}),k(t.scroll,m=>{e.reveal===!0&&S(r,m.direction==="up"||m.position<=e.revealOffset||m.position-m.inflectionPoint<100)});const C={};return t.instances.header=C,e.modelValue===!0&&g("size",l.value),g("space",e.modelValue),g("offset",f.value),re(()=>{t.instances.header===C&&(t.instances.header=void 0,g("size",0),g("offset",0),g("space",!1))}),()=>{const m=zt(o.default,[]);return e.elevated===!0&&m.push(T("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),m.push(T(he,{debounce:0,onResize:E})),T("header",{class:p.value,style:z.value,onFocusin:x},m)}}}),el=["top","middle","bottom"],fe=Y({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>el.includes(e)}},setup(e,{slots:o}){const u=v(()=>e.align!==void 0?{verticalAlign:e.align}:null),n=v(()=>{const t=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(t!==void 0?` text-${t}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>T("div",{class:n.value,style:u.value,role:"status","aria-label":e.label},He(o.default,e.label!==void 0?[e.label]:[]))}}),Qe={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},tl=Object.keys(Qe);Qe.all=!0;function Ue(e){const o={};for(const u of tl)e[u]===!0&&(o[u]=!0);return Object.keys(o).length===0?Qe:(o.horizontal===!0?o.left=o.right=!0:o.left===!0&&o.right===!0&&(o.horizontal=!0),o.vertical===!0?o.up=o.down=!0:o.up===!0&&o.down===!0&&(o.vertical=!0),o.horizontal===!0&&o.vertical===!0&&(o.all=!0),o)}const ll=["INPUT","TEXTAREA"];function Xe(e,o){return o.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof o.handler=="function"&&ll.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(o.uid)===-1)}function al(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),wt.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}function Me(e,o,u){const n=Ae(e);let t,l=n.left-o.event.x,r=n.top-o.event.y,a=Math.abs(l),f=Math.abs(r);const c=o.direction;c.horizontal===!0&&c.vertical!==!0?t=l<0?"left":"right":c.horizontal!==!0&&c.vertical===!0?t=r<0?"up":"down":c.up===!0&&r<0?(t="up",a>f&&(c.left===!0&&l<0?t="left":c.right===!0&&l>0&&(t="right"))):c.down===!0&&r>0?(t="down",a>f&&(c.left===!0&&l<0?t="left":c.right===!0&&l>0&&(t="right"))):c.left===!0&&l<0?(t="left",a<f&&(c.up===!0&&r<0?t="up":c.down===!0&&r>0&&(t="down"))):c.right===!0&&l>0&&(t="right",a<f&&(c.up===!0&&r<0?t="up":c.down===!0&&r>0&&(t="down")));let s=!1;if(t===void 0&&u===!1){if(o.event.isFirst===!0||o.event.lastDir===void 0)return{};t=o.event.lastDir,s=!0,t==="left"||t==="right"?(n.left-=l,a=0,l=0):(n.top-=r,f=0,r=0)}return{synthetic:s,payload:{evt:e,touch:o.event.mouse!==!0,mouse:o.event.mouse===!0,position:n,direction:t,isFirst:o.event.isFirst,isFinal:u===!0,duration:Date.now()-o.event.time,distance:{x:a,y:f},offset:{x:l,y:r},delta:{x:n.left-o.event.lastX,y:n.top-o.event.lastY}}}}let ol=0;const ve=pt({name:"touch-pan",beforeMount(e,{value:o,modifiers:u}){if(u.mouse!==!0&&ue.has.touch!==!0)return;function n(l,r){u.mouse===!0&&r===!0?_t(l):(u.stop===!0&&Oe(l),u.prevent===!0&&$e(l))}const t={uid:"qvtp_"+ol++,handler:o,modifiers:u,direction:Ue(u),noop:De,mouseStart(l){Xe(l,t)&&Ct(l)&&(be(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(l,!0))},touchStart(l){if(Xe(l,t)){const r=l.target;be(t,"temp",[[r,"touchmove","move","notPassiveCapture"],[r,"touchcancel","end","passiveCapture"],[r,"touchend","end","passiveCapture"]]),t.start(l)}},start(l,r){if(ue.is.firefox===!0&&qe(e,!0),t.lastEvt=l,r===!0||u.stop===!0){if(t.direction.all!==!0&&(r!==!0||t.modifiers.mouseAllDir!==!0&&t.modifiers.mousealldir!==!0)){const c=l.type.indexOf("mouse")!==-1?new MouseEvent(l.type,l):new TouchEvent(l.type,l);l.defaultPrevented===!0&&$e(c),l.cancelBubble===!0&&Oe(c),Object.assign(c,{qKeyEvent:l.qKeyEvent,qClickOutside:l.qClickOutside,qAnchorHandled:l.qAnchorHandled,qClonedBy:l.qClonedBy===void 0?[t.uid]:l.qClonedBy.concat(t.uid)}),t.initialEvent={target:l.target,event:c}}Oe(l)}const{left:a,top:f}=Ae(l);t.event={x:a,y:f,time:Date.now(),mouse:r===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:a,lastY:f}},move(l){if(t.event===void 0)return;const r=Ae(l),a=r.left-t.event.x,f=r.top-t.event.y;if(a===0&&f===0)return;t.lastEvt=l;const c=t.event.mouse===!0,s=()=>{n(l,c);let g;u.preserveCursor!==!0&&u.preservecursor!==!0&&(g=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),c===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),al(),t.styleCleanup=S=>{if(t.styleCleanup=void 0,g!==void 0&&(document.documentElement.style.cursor=g),document.body.classList.remove("non-selectable"),c===!0){const E=()=>{document.body.classList.remove("no-pointer-events--children")};S!==void 0?setTimeout(()=>{E(),S()},50):E()}else S!==void 0&&S()}};if(t.event.detected===!0){t.event.isFirst!==!0&&n(l,t.event.mouse);const{payload:g,synthetic:S}=Me(l,t,!1);g!==void 0&&(t.handler(g)===!1?t.end(l):(t.styleCleanup===void 0&&t.event.isFirst===!0&&s(),t.event.lastX=g.position.left,t.event.lastY=g.position.top,t.event.lastDir=S===!0?void 0:g.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||c===!0&&(t.modifiers.mouseAllDir===!0||t.modifiers.mousealldir===!0)){s(),t.event.detected=!0,t.move(l);return}const p=Math.abs(a),z=Math.abs(f);p!==z&&(t.direction.horizontal===!0&&p>z||t.direction.vertical===!0&&p<z||t.direction.up===!0&&p<z&&f<0||t.direction.down===!0&&p<z&&f>0||t.direction.left===!0&&p>z&&a<0||t.direction.right===!0&&p>z&&a>0?(t.event.detected=!0,t.move(l)):t.end(l,!0))},end(l,r){if(t.event!==void 0){if(Te(t,"temp"),ue.is.firefox===!0&&qe(e,!1),r===!0)t.styleCleanup!==void 0&&t.styleCleanup(),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(Me(l===void 0?t.lastEvt:l,t).payload);const{payload:a}=Me(l===void 0?t.lastEvt:l,t,!0),f=()=>{t.handler(a)};t.styleCleanup!==void 0?t.styleCleanup(f):f()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};if(e.__qtouchpan=t,u.mouse===!0){const l=u.mouseCapture===!0||u.mousecapture===!0?"Capture":"";be(t,"main",[[e,"mousedown","mouseStart",`passive${l}`]])}ue.has.touch===!0&&be(t,"main",[[e,"touchstart","touchStart",`passive${u.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,o){const u=e.__qtouchpan;u!==void 0&&(o.oldValue!==o.value&&(typeof value!="function"&&u.end(),u.handler=o.value),u.direction=Ue(o.modifiers))},beforeUnmount(e){const o=e.__qtouchpan;o!==void 0&&(o.event!==void 0&&o.end(),Te(o,"main"),Te(o,"temp"),ue.is.firefox===!0&&qe(e,!1),o.styleCleanup!==void 0&&o.styleCleanup(),delete e.__qtouchpan)}}),Ye=150,Ke=Y({name:"QDrawer",inheritAttrs:!1,props:{...Qt,...ot,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Rt,"onLayout","miniState"],setup(e,{slots:o,emit:u,attrs:n}){const t=ae(),{proxy:{$q:l}}=t,r=nt(e,l),{preventBodyScroll:a}=It(),{registerTimeout:f,removeTimeout:c}=Vt(),s=Ee(Se,X);if(s===X)return console.error("QDrawer needs to be child of QLayout"),X;let p,z=null,g;const S=O(e.behavior==="mobile"||e.behavior!=="desktop"&&s.totalWidth.value<=e.breakpoint),E=v(()=>e.mini===!0&&S.value!==!0),x=v(()=>E.value===!0?e.miniWidth:e.width),C=O(e.showIfAbove===!0&&S.value===!1?!0:e.modelValue===!0),m=v(()=>e.persistent!==!0&&(S.value===!0||ie.value===!0));function L(i,w){if(P(),i!==!1&&s.animate(),V(0),S.value===!0){const R=s.instances[q.value];R!==void 0&&R.belowBreakpoint===!0&&R.hide(!1),Z(1),s.isContainer.value!==!0&&a(!0)}else Z(0),i!==!1&&pe(!1);f(()=>{i!==!1&&pe(!0),w!==!0&&u("show",i)},Ye)}function _(i,w){K(),i!==!1&&s.animate(),Z(0),V(G.value*x.value),Ce(),w!==!0?f(()=>{u("hide",i)},Ye):c()}const{show:B,hide:M}=$t({showing:C,hideOnRouteChange:m,handleShow:L,handleHide:_}),{addToHistory:P,removeFromHistory:K}=Ft(C,M,m),H={belowBreakpoint:S,hide:M},$=v(()=>e.side==="right"),G=v(()=>(l.lang.rtl===!0?-1:1)*($.value===!0?1:-1)),le=O(0),J=O(!1),d=O(!1),h=O(x.value*G.value),q=v(()=>$.value===!0?"left":"right"),F=v(()=>C.value===!0&&S.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:x.value:0),N=v(()=>e.overlay===!0||e.miniToOverlay===!0||s.view.value.indexOf($.value?"R":"L")!==-1||l.platform.is.ios===!0&&s.isContainer.value===!0),I=v(()=>e.overlay===!1&&C.value===!0&&S.value===!1),ie=v(()=>e.overlay===!0&&C.value===!0&&S.value===!1),ze=v(()=>"fullscreen q-drawer__backdrop"+(C.value===!1&&J.value===!1?" hidden":"")),ut=v(()=>({backgroundColor:`rgba(0,0,0,${le.value*.4})`})),Re=v(()=>$.value===!0?s.rows.value.top[2]==="r":s.rows.value.top[0]==="l"),st=v(()=>$.value===!0?s.rows.value.bottom[2]==="r":s.rows.value.bottom[0]==="l"),ct=v(()=>{const i={};return s.header.space===!0&&Re.value===!1&&(N.value===!0?i.top=`${s.header.offset}px`:s.header.space===!0&&(i.top=`${s.header.size}px`)),s.footer.space===!0&&st.value===!1&&(N.value===!0?i.bottom=`${s.footer.offset}px`:s.footer.space===!0&&(i.bottom=`${s.footer.size}px`)),i}),dt=v(()=>{const i={width:`${x.value}px`,transform:`translateX(${h.value}px)`};return S.value===!0?i:Object.assign(i,ct.value)}),ft=v(()=>"q-drawer__content fit "+(s.isContainer.value!==!0?"scroll":"overflow-auto")),vt=v(()=>`q-drawer q-drawer--${e.side}`+(d.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(r.value===!0?" q-drawer--dark q-dark":"")+(J.value===!0?" no-transition":C.value===!0?"":" q-layout--prevent-focus")+(S.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${E.value===!0?"mini":"standard"}`+(N.value===!0||I.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(Re.value===!0?" q-drawer--top-padding":""))),ht=v(()=>{const i=l.lang.rtl===!0?e.side:q.value;return[[ve,yt,void 0,{[i]:!0,mouse:!0}]]}),mt=v(()=>{const i=l.lang.rtl===!0?q.value:e.side;return[[ve,Ve,void 0,{[i]:!0,mouse:!0}]]}),bt=v(()=>{const i=l.lang.rtl===!0?q.value:e.side;return[[ve,Ve,void 0,{[i]:!0,mouse:!0,mouseAllDir:!0}]]});function we(){St(S,e.behavior==="mobile"||e.behavior!=="desktop"&&s.totalWidth.value<=e.breakpoint)}k(S,i=>{i===!0?(p=C.value,C.value===!0&&M(!1)):e.overlay===!1&&e.behavior!=="mobile"&&p!==!1&&(C.value===!0?(V(0),Z(0),Ce()):B(!1))}),k(()=>e.side,(i,w)=>{s.instances[w]===H&&(s.instances[w]=void 0,s[w].space=!1,s[w].offset=0),s.instances[i]=H,s[i].size=x.value,s[i].space=I.value,s[i].offset=F.value}),k(s.totalWidth,()=>{(s.isContainer.value===!0||document.qScrollPrevented!==!0)&&we()}),k(()=>e.behavior+e.breakpoint,we),k(s.isContainer,i=>{C.value===!0&&a(i!==!0),i===!0&&we()}),k(s.scrollbarWidth,()=>{V(C.value===!0?0:void 0)}),k(F,i=>{ee("offset",i)}),k(I,i=>{u("onLayout",i),ee("space",i)}),k($,()=>{V()}),k(x,i=>{V(),_e(e.miniToOverlay,i)}),k(()=>e.miniToOverlay,i=>{_e(i,x.value)}),k(()=>l.lang.rtl,()=>{V()}),k(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(gt(),s.animate())}),k(E,i=>{u("miniState",i)});function V(i){i===void 0?ye(()=>{i=C.value===!0?0:x.value,V(G.value*i)}):(s.isContainer.value===!0&&$.value===!0&&(S.value===!0||Math.abs(i)===x.value)&&(i+=G.value*s.scrollbarWidth.value),h.value=i)}function Z(i){le.value=i}function pe(i){const w=i===!0?"remove":s.isContainer.value!==!0?"add":"";w!==""&&document.body.classList[w]("q-body--drawer-toggle")}function gt(){z!==null&&clearTimeout(z),t.proxy&&t.proxy.$el&&t.proxy.$el.classList.add("q-drawer--mini-animate"),d.value=!0,z=setTimeout(()=>{z=null,d.value=!1,t&&t.proxy&&t.proxy.$el&&t.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function yt(i){if(C.value!==!1)return;const w=x.value,R=U(i.distance.x,0,w);if(i.isFinal===!0){R>=Math.min(75,w)===!0?B():(s.animate(),Z(0),V(G.value*w)),J.value=!1;return}V((l.lang.rtl===!0?$.value!==!0:$.value)?Math.max(w-R,0):Math.min(0,R-w)),Z(U(R/w,0,1)),i.isFirst===!0&&(J.value=!0)}function Ve(i){if(C.value!==!0)return;const w=x.value,R=i.direction===e.side,me=(l.lang.rtl===!0?R!==!0:R)?U(i.distance.x,0,w):0;if(i.isFinal===!0){Math.abs(me)<Math.min(75,w)===!0?(s.animate(),Z(1),V(0)):M(),J.value=!1;return}V(G.value*me),Z(U(1-me/w,0,1)),i.isFirst===!0&&(J.value=!0)}function Ce(){a(!1),pe(!0)}function ee(i,w){s.update(e.side,i,w)}function St(i,w){i.value!==w&&(i.value=w)}function _e(i,w){ee("size",i===!0?e.miniWidth:w)}return s.instances[e.side]=H,_e(e.miniToOverlay,x.value),ee("space",I.value),ee("offset",F.value),e.showIfAbove===!0&&e.modelValue!==!0&&C.value===!0&&e["onUpdate:modelValue"]!==void 0&&u("update:modelValue",!0),ne(()=>{u("onLayout",I.value),u("miniState",E.value),p=e.showIfAbove===!0;const i=()=>{(C.value===!0?L:_)(!1,!0)};if(s.totalWidth.value!==0){ye(i);return}g=k(s.totalWidth,()=>{g(),g=void 0,C.value===!1&&e.showIfAbove===!0&&S.value===!1?B(!1):i()})}),re(()=>{g!==void 0&&g(),z!==null&&(clearTimeout(z),z=null),C.value===!0&&Ce(),s.instances[e.side]===H&&(s.instances[e.side]=void 0,ee("size",0),ee("offset",0),ee("space",!1))}),()=>{const i=[];S.value===!0&&(e.noSwipeOpen===!1&&i.push(te(T("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),ht.value)),i.push(Fe("div",{ref:"backdrop",class:ze.value,style:ut.value,"aria-hidden":"true",onClick:M},void 0,"backdrop",e.noSwipeBackdrop!==!0&&C.value===!0,()=>bt.value)));const w=E.value===!0&&o.mini!==void 0,R=[T("div",{...n,key:""+w,class:[ft.value,n.class]},w===!0?o.mini():lt(o.default))];return e.elevated===!0&&C.value===!0&&R.push(T("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),i.push(Fe("aside",{ref:"content",class:vt.value,style:dt.value},R,"contentclose",e.noSwipeClose!==!0&&S.value===!0,()=>mt.value)),T("div",{class:"q-drawer-container"},i)}}}),nl=Y({props:["store","barStyle","verticalBarStyle","horizontalBarStyle"],setup(e){return()=>[T("div",{class:e.store.scroll.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:e.store.onVerticalMousedown}),T("div",{class:e.store.scroll.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:e.store.onHorizontalMousedown}),te(T("div",{ref:e.store.scroll.vertical.ref,class:e.store.scroll.vertical.thumbClass.value,style:e.store.scroll.vertical.style.value,"aria-hidden":"true"}),e.store.thumbVertDir),te(T("div",{ref:e.store.scroll.horizontal.ref,class:e.store.scroll.horizontal.thumbClass.value,style:e.store.scroll.horizontal.style.value,"aria-hidden":"true"}),e.store.thumbHorizDir)]}}),{passive:Ge}=Le,rl=["both","horizontal","vertical"],it=Y({name:"QScrollObserver",props:{axis:{type:String,validator:e=>rl.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:jt},emits:["scroll"],setup(e,{emit:o}){const u={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let n=null,t,l;k(()=>e.scrollTarget,()=>{f(),a()});function r(){n!==null&&n();const p=Math.max(0,Wt(t)),z=Ut(t),g={top:p-u.position.top,left:z-u.position.left};if(e.axis==="vertical"&&g.top===0||e.axis==="horizontal"&&g.left===0)return;const S=Math.abs(g.top)>=Math.abs(g.left)?g.top<0?"up":"down":g.left<0?"left":"right";u.position={top:p,left:z},u.directionChanged=u.direction!==S,u.delta=g,u.directionChanged===!0&&(u.direction=S,u.inflectionPoint=u.position),o("scroll",{...u})}function a(){t=Nt(l,e.scrollTarget),t.addEventListener("scroll",c,Ge),c(!0)}function f(){t!==void 0&&(t.removeEventListener("scroll",c,Ge),t=void 0)}function c(p){if(p===!0||e.debounce===0||e.debounce==="0")r();else if(n===null){const[z,g]=e.debounce?[setTimeout(r,e.debounce),clearTimeout]:[requestAnimationFrame(r),cancelAnimationFrame];n=()=>{g(z),n=null}}}const{proxy:s}=ae();return k(()=>s.$q.lang.rtl,r),ne(()=>{l=s.$el.parentNode,a()}),re(()=>{n!==null&&n(),f()}),Object.assign(s,{trigger:c,getPosition:()=>u}),De}}),Je=["vertical","horizontal"],Pe={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},Ze={prevent:!0,mouse:!0,mouseAllDir:!0},et=e=>e>=250?50:Math.ceil(e/5),il=Y({name:"QScrollArea",props:{...ot,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],verticalOffset:{type:Array,default:[0,0]},horizontalOffset:{type:Array,default:[0,0]},contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:o,emit:u}){const n=O(!1),t=O(!1),l=O(!1),r={vertical:O(0),horizontal:O(0)},a={vertical:{ref:O(null),position:O(0),size:O(0)},horizontal:{ref:O(null),position:O(0),size:O(0)}},{proxy:f}=ae(),c=nt(e,f.$q);let s=null,p;const z=O(null),g=v(()=>"q-scrollarea"+(c.value===!0?" q-scrollarea--dark":""));Object.assign(r,{verticalInner:v(()=>r.vertical.value-e.verticalOffset[0]-e.verticalOffset[1]),horizontalInner:v(()=>r.horizontal.value-e.horizontalOffset[0]-e.horizontalOffset[1])}),a.vertical.percentage=v(()=>{const d=a.vertical.size.value-r.vertical.value;if(d<=0)return 0;const h=U(a.vertical.position.value/d,0,1);return Math.round(h*1e4)/1e4}),a.vertical.thumbHidden=v(()=>(e.visible===null?l.value:e.visible)!==!0&&n.value===!1&&t.value===!1||a.vertical.size.value<=r.vertical.value+1),a.vertical.thumbStart=v(()=>e.verticalOffset[0]+a.vertical.percentage.value*(r.verticalInner.value-a.vertical.thumbSize.value)),a.vertical.thumbSize=v(()=>Math.round(U(r.verticalInner.value*r.verticalInner.value/a.vertical.size.value,et(r.verticalInner.value),r.verticalInner.value))),a.vertical.style=v(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${a.vertical.thumbStart.value}px`,height:`${a.vertical.thumbSize.value}px`,right:`${e.horizontalOffset[1]}px`})),a.vertical.thumbClass=v(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(a.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),a.vertical.barClass=v(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(a.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),a.horizontal.percentage=v(()=>{const d=a.horizontal.size.value-r.horizontal.value;if(d<=0)return 0;const h=U(Math.abs(a.horizontal.position.value)/d,0,1);return Math.round(h*1e4)/1e4}),a.horizontal.thumbHidden=v(()=>(e.visible===null?l.value:e.visible)!==!0&&n.value===!1&&t.value===!1||a.horizontal.size.value<=r.horizontal.value+1),a.horizontal.thumbStart=v(()=>e.horizontalOffset[0]+a.horizontal.percentage.value*(r.horizontalInner.value-a.horizontal.thumbSize.value)),a.horizontal.thumbSize=v(()=>Math.round(U(r.horizontalInner.value*r.horizontalInner.value/a.horizontal.size.value,et(r.horizontalInner.value),r.horizontalInner.value))),a.horizontal.style=v(()=>({...e.thumbStyle,...e.horizontalThumbStyle,[f.$q.lang.rtl===!0?"right":"left"]:`${a.horizontal.thumbStart.value}px`,width:`${a.horizontal.thumbSize.value}px`,bottom:`${e.verticalOffset[1]}px`})),a.horizontal.thumbClass=v(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(a.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),a.horizontal.barClass=v(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(a.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const S=v(()=>a.vertical.thumbHidden.value===!0&&a.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle);function E(){const d={};return Je.forEach(h=>{const q=a[h];Object.assign(d,{[h+"Position"]:q.position.value,[h+"Percentage"]:q.percentage.value,[h+"Size"]:q.size.value,[h+"ContainerSize"]:r[h].value,[h+"ContainerInnerSize"]:r[h+"Inner"].value})}),d}const x=qt(()=>{const d=E();d.ref=f,u("scroll",d)},0);function C(d,h,q){if(Je.includes(d)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(d==="vertical"?Ne:Be)(z.value,h,q)}function m({height:d,width:h}){let q=!1;r.vertical.value!==d&&(r.vertical.value=d,q=!0),r.horizontal.value!==h&&(r.horizontal.value=h,q=!0),q===!0&&P()}function L({position:d}){let h=!1;a.vertical.position.value!==d.top&&(a.vertical.position.value=d.top,h=!0),a.horizontal.position.value!==d.left&&(a.horizontal.position.value=d.left,h=!0),h===!0&&P()}function _({height:d,width:h}){a.horizontal.size.value!==h&&(a.horizontal.size.value=h,P()),a.vertical.size.value!==d&&(a.vertical.size.value=d,P())}function B(d,h){const q=a[h];if(d.isFirst===!0){if(q.thumbHidden.value===!0)return;p=q.position.value,t.value=!0}else if(t.value!==!0)return;d.isFinal===!0&&(t.value=!1);const F=Pe[h],N=(q.size.value-r[h].value)/(r[h+"Inner"].value-q.thumbSize.value),I=d.distance[F.dist],ie=p+(d.direction===F.dir?1:-1)*I*N;K(ie,h)}function M(d,h){const q=a[h];if(q.thumbHidden.value!==!0){const F=h==="vertical"?e.verticalOffset[0]:e.horizontalOffset[0],N=d[Pe[h].offset]-F,I=q.thumbStart.value-F;if(N<I||N>I+q.thumbSize.value){const ie=N-q.thumbSize.value/2,ze=U(ie/(r[h+"Inner"].value-q.thumbSize.value),0,1);K(ze*Math.max(0,q.size.value-r[h].value),h)}q.ref.value!==null&&q.ref.value.dispatchEvent(new MouseEvent(d.type,d))}}function P(){n.value=!0,s!==null&&clearTimeout(s),s=setTimeout(()=>{s=null,n.value=!1},e.delay),e.onScroll!==void 0&&x()}function K(d,h){z.value[Pe[h].scroll]=d}let H=null;function $(){H!==null&&clearTimeout(H),H=setTimeout(()=>{H=null,l.value=!0},f.$q.platform.is.ios?50:0)}function G(){H!==null&&(clearTimeout(H),H=null),l.value=!1}let le=null;k(()=>f.$q.lang.rtl,d=>{z.value!==null&&Be(z.value,Math.abs(a.horizontal.position.value)*(d===!0?-1:1))}),Ot(()=>{le={top:a.vertical.position.value,left:a.horizontal.position.value}}),Tt(()=>{if(le===null)return;const d=z.value;d!==null&&(Be(d,le.left),Ne(d,le.top))}),re(x.cancel),Object.assign(f,{getScrollTarget:()=>z.value,getScroll:E,getScrollPosition:()=>({top:a.vertical.position.value,left:a.horizontal.position.value}),getScrollPercentage:()=>({top:a.vertical.percentage.value,left:a.horizontal.percentage.value}),setScrollPosition:C,setScrollPercentage(d,h,q){C(d,h*(a[d].size.value-r[d].value)*(d==="horizontal"&&f.$q.lang.rtl===!0?-1:1),q)}});const J={scroll:a,thumbVertDir:[[ve,d=>{B(d,"vertical")},void 0,{vertical:!0,...Ze}]],thumbHorizDir:[[ve,d=>{B(d,"horizontal")},void 0,{horizontal:!0,...Ze}]],onVerticalMousedown(d){M(d,"vertical")},onHorizontalMousedown(d){M(d,"horizontal")}};return()=>T("div",{class:g.value,onMouseenter:$,onMouseleave:G},[T("div",{ref:z,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[T("div",{class:"q-scrollarea__content absolute",style:S.value},He(o.default,[T(he,{debounce:0,onResize:_})])),T(it,{axis:"both",onScroll:L})]),T(he,{debounce:0,onResize:m}),T(nl,{store:J,barStyle:e.barStyle,verticalBarStyle:e.verticalBarStyle,horizontalBarStyle:e.horizontalBarStyle})])}}),ul=Y({name:"QPageContainer",setup(e,{slots:o}){const{proxy:{$q:u}}=ae(),n=Ee(Se,X);if(n===X)return console.error("QPageContainer needs to be child of QLayout"),X;at(kt,!0);const t=v(()=>{const l={};return n.header.space===!0&&(l.paddingTop=`${n.header.size}px`),n.right.space===!0&&(l[`padding${u.lang.rtl===!0?"Left":"Right"}`]=`${n.right.size}px`),n.footer.space===!0&&(l.paddingBottom=`${n.footer.size}px`),n.left.space===!0&&(l[`padding${u.lang.rtl===!0?"Right":"Left"}`]=`${n.left.size}px`),l});return()=>T("div",{class:"q-page-container",style:t.value},lt(o.default))}}),sl=Y({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:o,emit:u}){const{proxy:{$q:n}}=ae(),t=O(null),l=O(n.screen.height),r=O(e.container===!0?0:n.screen.width),a=O({position:0,direction:"down",inflectionPoint:0}),f=O(0),c=O(tt.value===!0?0:xe()),s=v(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),p=v(()=>e.container===!1?{minHeight:n.screen.height+"px"}:null),z=v(()=>c.value!==0?{[n.lang.rtl===!0?"left":"right"]:`${c.value}px`}:null),g=v(()=>c.value!==0?{[n.lang.rtl===!0?"right":"left"]:0,[n.lang.rtl===!0?"left":"right"]:`-${c.value}px`,width:`calc(100% + ${c.value}px)`}:null);function S(_){if(e.container===!0||document.qScrollPrevented!==!0){const B={position:_.position.top,direction:_.direction,directionChanged:_.directionChanged,inflectionPoint:_.inflectionPoint.top,delta:_.delta.top};a.value=B,e.onScroll!==void 0&&u("scroll",B)}}function E(_){const{height:B,width:M}=_;let P=!1;l.value!==B&&(P=!0,l.value=B,e.onScrollHeight!==void 0&&u("scrollHeight",B),C()),r.value!==M&&(P=!0,r.value=M),P===!0&&e.onResize!==void 0&&u("resize",_)}function x({height:_}){f.value!==_&&(f.value=_,C())}function C(){if(e.container===!0){const _=l.value>f.value?xe():0;c.value!==_&&(c.value=_)}}let m=null;const L={instances:{},view:v(()=>e.view),isContainer:v(()=>e.container),rootRef:t,height:l,containerHeight:f,scrollbarWidth:c,totalWidth:v(()=>r.value+c.value),rows:v(()=>{const _=e.view.toLowerCase().split(" ");return{top:_[0].split(""),middle:_[1].split(""),bottom:_[2].split("")}}),header:ge({size:0,offset:0,space:!1}),right:ge({size:300,offset:0,space:!1}),footer:ge({size:0,offset:0,space:!1}),left:ge({size:300,offset:0,space:!1}),scroll:a,animate(){m!==null?clearTimeout(m):document.body.classList.add("q-body--layout-animate"),m=setTimeout(()=>{m=null,document.body.classList.remove("q-body--layout-animate")},155)},update(_,B,M){L[_][B]=M}};if(at(Se,L),xe()>0){let _=function(){P=null,K.classList.remove("hide-scrollbar")},B=function(){if(P===null){if(K.scrollHeight>n.screen.height)return;K.classList.add("hide-scrollbar")}else clearTimeout(P);P=setTimeout(_,300)},M=function(H){P!==null&&H==="remove"&&(clearTimeout(P),_()),window[`${H}EventListener`]("resize",B)},P=null;const K=document.body;k(()=>e.container!==!0?"add":"remove",M),e.container!==!0&&M("add"),Bt(()=>{M("remove")})}return()=>{const _=He(o.default,[T(it,{onScroll:S}),T(he,{onResize:E})]),B=T("div",{class:s.value,style:p.value,ref:e.container===!0?void 0:t,tabindex:-1},_);return e.container===!0?T("div",{class:"q-layout-container overflow-hidden",ref:t},[T(he,{onResize:x}),T("div",{class:"absolute-full",style:z.value},[T("div",{class:"scroll",style:g.value},[B])])]):B}}}),cl=xt({__name:"MainLayout",setup(e,{expose:o}){o();const u=Yt(),n=Mt(),t=Pt(),l=Gt(),r=O(!1),a=O(!1);function f(){r.value=!r.value}function c(){a.value=!a.value}function s(){u.dark.toggle()}const p=async()=>{await n.logout(),n.isAuthenticated||t.push({name:"login"})};ne(()=>{l.fetchStats()});const z={$q:u,authStore:n,router:t,statStore:l,leftDrawerOpen:r,rightDrawerOpen:a,toggleLeftDrawer:f,toggleRightDrawer:c,toggleDarkMode:s,logoutHandler:p,UserPhoto:Kt};return Object.defineProperty(z,"__isScriptSetup",{enumerable:!1,value:!0}),z}}),dl={class:"absolute-bottom bg-transparent"},fl={class:"text-weight-bold"};function vl(e,o,u,n,t,l){const r=At("router-view");return A(),D(sl,{view:"lHh Lpr lFf"},{default:b(()=>[y(Zt,{elevated:""},{default:b(()=>[y(Et,null,{default:b(()=>[n.authStore.isAuthenticated?(A(),D(Ie,{key:0,flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:n.toggleLeftDrawer})):oe("",!0),y(Ht,null,{default:b(()=>o[2]||(o[2]=[j(" ABA реестр - Админка ")])),_:1}),y(Ie,{flat:"",dense:"",round:"",icon:"brightness_4","aria-label":"Toggle Dark Mode",onClick:n.toggleDarkMode}),n.authStore.user?(A(),D(n.UserPhoto,{key:1,user:n.authStore.user,fullscreen:!1,size:"2rem",onClick:n.toggleRightDrawer,class:"q-ml-md cursor-pointer",width:32,height:32},null,8,["user"])):oe("",!0)]),_:1})]),_:1}),n.authStore.isAuthenticated?(A(),D(Ke,{key:0,modelValue:n.leftDrawerOpen,"onUpdate:modelValue":o[0]||(o[0]=a=>n.leftDrawerOpen=a),"show-if-above":"",bordered:""},{default:b(()=>[y(je,null,{default:b(()=>[y(W,{header:""},{default:b(()=>o[3]||(o[3]=[j(" Список функций ")])),_:1}),te((A(),D(de,{clickable:"",to:{name:"centers.index"}},{default:b(()=>[y(Q,{avatar:""},{default:b(()=>[y(se,{name:"apartment"})]),_:1}),y(Q,null,{default:b(()=>[y(W,null,{default:b(()=>o[4]||(o[4]=[j("Центры")])),_:1}),y(W,{caption:""},{default:b(()=>o[5]||(o[5]=[j(" Список центров ")])),_:1})]),_:1}),n.statStore.centersOnReviewCount>0?(A(),D(Q,{key:0,side:"",bottom:""},{default:b(()=>[y(fe,{color:"orange",label:n.statStore.centersOnReviewCount},null,8,["label"])]),_:1})):(A(),D(Q,{key:1,side:"",top:""},{default:b(()=>[y(fe,{label:n.statStore.centersCount},null,8,["label"])]),_:1}))]),_:1})),[[ce]]),te((A(),D(de,{clickable:"",to:{name:"specialists.index"}},{default:b(()=>[y(Q,{avatar:""},{default:b(()=>[y(se,{name:"badge"})]),_:1}),y(Q,null,{default:b(()=>[y(W,null,{default:b(()=>o[6]||(o[6]=[j("Специалисты")])),_:1}),y(W,{caption:""},{default:b(()=>o[7]||(o[7]=[j(" Список специалистов ")])),_:1})]),_:1}),n.statStore.specialistsOnReviewCount>0?(A(),D(Q,{key:0,side:"",top:""},{default:b(()=>[y(fe,{color:"orange",label:n.statStore.specialistsOnReviewCount},null,8,["label"])]),_:1})):(A(),D(Q,{key:1,side:"",top:""},{default:b(()=>[y(fe,{label:n.statStore.specialistsCount},null,8,["label"])]),_:1}))]),_:1})),[[ce]]),te((A(),D(de,{clickable:"",to:{name:"users.index"}},{default:b(()=>[y(Q,{avatar:""},{default:b(()=>[y(se,{name:"person"})]),_:1}),y(Q,null,{default:b(()=>[y(W,null,{default:b(()=>o[8]||(o[8]=[j("Пользователи")])),_:1}),y(W,{caption:""},{default:b(()=>o[9]||(o[9]=[j(" Список пользователей ")])),_:1})]),_:1}),y(Q,{side:"",top:""},{default:b(()=>[y(fe,{label:n.statStore.usersCount},null,8,["label"])]),_:1})]),_:1})),[[ce]])]),_:1})]),_:1},8,["modelValue"])):oe("",!0),n.authStore.user?(A(),D(Ke,{key:1,modelValue:n.rightDrawerOpen,"onUpdate:modelValue":o[1]||(o[1]=a=>n.rightDrawerOpen=a),side:"right","show-if-above":"",bordered:""},{default:b(()=>[y(Xt,{class:"absolute-top",src:"https://cdn.quasar.dev/img/material.png",style:{height:"150px"}},{default:b(()=>[ke("div",dl,[n.authStore.user?(A(),D(n.UserPhoto,{key:0,user:n.authStore.user,fullscreen:!0,size:"3.5rem",class:"q-mb-sm cursor-pointer",width:56,height:56},null,8,["user"])):oe("",!0),ke("div",fl,Dt(n.authStore.user.name),1),o[10]||(o[10]=ke("div",null,"@rstoenescu",-1))])]),_:1}),n.authStore.user?(A(),D(il,{key:0,style:{height:"calc(100% - 150px)","margin-top":"150px","border-right":"1px solid #ddd"}},{default:b(()=>[y(je,{padding:""},{default:b(()=>[te((A(),D(de,{clickable:"",to:{name:"users.edit",params:{id:n.authStore.user.id}}},{default:b(()=>[y(Q,{avatar:""},{default:b(()=>[y(se,{name:"settings"})]),_:1}),y(Q,null,{default:b(()=>[y(W,null,{default:b(()=>o[11]||(o[11]=[j("Настройки")])),_:1})]),_:1})]),_:1},8,["to"])),[[ce]]),te((A(),D(de,{clickable:"",onClick:n.logoutHandler},{default:b(()=>[y(Q,{avatar:""},{default:b(()=>[y(se,{name:"logout"})]),_:1}),y(Q,null,{default:b(()=>[y(W,null,{default:b(()=>o[12]||(o[12]=[j("Выйти")])),_:1})]),_:1})]),_:1})),[[ce]])]),_:1})]),_:1})):oe("",!0)]),_:1},8,["modelValue"])):oe("",!0),y(ul,null,{default:b(()=>[y(r)]),_:1})]),_:1})}const _l=Lt(cl,[["render",vl],["__file","MainLayout.vue"]]);export{_l as default};
