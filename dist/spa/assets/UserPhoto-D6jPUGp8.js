import{M as p,r as _,f as o,_ as g,Q as n,R as h,S as y,a1 as w,Z as C,a4 as x}from"./index-Bc0R355J.js";import{I as q}from"./ImageComponent-m-e6C0wA.js";const v=p({__name:"UserPhoto",props:{modelValue:{type:Object,required:!0},size:{type:String,default:"3rem"},fullscreen:{type:Boolean,default:!1},width:{type:Number||null,default:null},height:{type:Number||null,default:null},quality:{type:Number||null,default:null},quasarComponent:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(u,{expose:l}){l();const e=u,t=_(!1),s=o(()=>e.modelValue.name?e.modelValue.name.split(" ").slice(0,2).map(a=>a.charAt(0).toUpperCase()).join(""):"U"),i=o(()=>{const r=["blue","green","red","purple","orange","teal"],a=Array.from(e.modelValue.name||"U").reduce((d,f)=>d+f.charCodeAt(0),0);return r[a%r.length]}),c=o(()=>{const r=e.modelValue.photo?.url;if(!r)return"";try{const a=new URL(r);return e.width&&a.searchParams.set("w",e.width.toString()),e.height&&a.searchParams.set("h",e.height.toString()),e.quality&&a.searchParams.set("q",e.quality.toString()),a.toString()}catch{}return r}),m={props:e,showFullscreen:t,initials:s,avatarColor:i,url:c,ImageComponent:q};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}}),P={key:1};function S(u,l,e,t,s,i){return n(),h(x,{size:e.size,color:t.avatarColor,"text-color":"white",onClick:l[0]||(l[0]=c=>t.url&&(t.showFullscreen=!0))},{default:y(()=>[t.url?(n(),h(t.ImageComponent,{key:0,class:"avatar-image",url:t.url,alt:`${e.modelValue.name||"Пользователь"}'s avatar`,"max-width":e.width,"max-height":e.height,"quasar-component":e.quasarComponent,"allow-fullscreen":e.fullscreen},null,8,["url","alt","max-width","max-height","quasar-component","allow-fullscreen"])):(n(),w("span",P,C(t.initials),1))]),_:1},8,["size","color"])}const B=g(v,[["render",S],["__scopeId","data-v-816094ca"],["__file","UserPhoto.vue"]]);export{B as U};
