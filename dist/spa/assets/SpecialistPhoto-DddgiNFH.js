import{Q as d}from"./use-transition-BxwYz9Om.js";import{M as f,r as c,f as p,_ as g,Q as u,R as n,S as m,V as h,T as _,a4 as w}from"./index-BIoqSzkr.js";import{I as y}from"./ImageFullscreen-C2Mk_3OF.js";import{I as S}from"./ImageComponent-Ag6g7Cqh.js";const v=f({__name:"SpecialistPhoto",props:{specialist:{type:Object,required:!0},size:{type:String,default:"3rem"},fullscreen:{type:Boolean,default:!1},width:{type:Number||null,default:null},height:{type:Number||null,default:null},quality:{type:Number||null,default:null}},setup(i,{expose:r}){r();const e=i,t=c(!1),a=c(e.specialist.photo?.url||null),o=p(()=>{if(!a.value)return"";try{const s=new URL(a.value);return e.width&&s.searchParams.set("w",e.width.toString()),e.height&&s.searchParams.set("h",e.height.toString()),e.quality&&s.searchParams.set("q",e.quality.toString()),s.toString()}catch{}return a.value}),l={props:e,showFullscreen:t,url:a,computedImageUrl:o,ImageFullscreen:y,ImageComponent:S};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}});function x(i,r,e,t,a,o){return u(),n(w,{size:e.size,onClick:r[1]||(r[1]=l=>t.url&&(t.showFullscreen=!0))},{default:m(()=>[t.url?(u(),n(t.ImageComponent,{key:0,class:"avatar-image",alt:`${e.specialist.name||"Пользователь"}'s avatar`,url:t.computedImageUrl,"max-width":e.width,"max-height":e.height},null,8,["alt","url","max-width","max-height"])):h("",!0),e.fullscreen&&t.url?(u(),n(t.ImageFullscreen,{key:1,show:t.showFullscreen,"onUpdate:show":r[0]||(r[0]=l=>t.showFullscreen=l)},{default:m(()=>[_(d,{src:t.url,"spinner-color":"primary","spinner-size":"82px",width:"100%",height:"100%",fit:"scale-down"},null,8,["src"])]),_:1},8,["show"])):h("",!0)]),_:1},8,["size"])}const P=g(v,[["render",x],["__scopeId","data-v-e7766d39"],["__file","SpecialistPhoto.vue"]]);export{P as S};
