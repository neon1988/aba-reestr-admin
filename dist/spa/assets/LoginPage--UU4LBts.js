import{Q as n}from"./QCardSection-BMQ9ORDW.js";import{Q as g}from"./QBanner-C_5i-MuY.js";import{Q as d}from"./QInput-oafD2WBG.js";import{N as h,O as Q,Q as b,r as m,_ as w,S as p,T as f,U as o,$ as c,V as t,Y as S,a0 as V,X as x,a2 as B,W as y}from"./index-BWeAa12D.js";import{Q as C}from"./QForm-B-Hk9u3v.js";import{Q as E}from"./QCard-YAj_9Bf1.js";import{Q as F}from"./QPage-BXWxzvs6.js";import"./use-dark-Bc9c4c3V.js";import"./focus-manager-zjdVGI5d.js";const v=h({__name:"LoginPage",setup(_,{expose:a}){a();const l=Q(),u=b(),r=m(""),s=m(""),i={authStore:l,router:u,email:r,password:s,loginHandler:async()=>{await l.login({email:r.value,password:s.value}),l.isAuthenticated&&u.push({name:"home"})}};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),N={class:"q-mb-md",style:{"max-width":"400px",margin:"0 auto"}};function P(_,a,l,u,r,s){return p(),f(F,{padding:""},{default:o(()=>[c("div",N,[t(E,null,{default:o(()=>[t(n,null,{default:o(()=>a[2]||(a[2]=[c("div",{class:"text-h6"},"Вход в систему",-1)])),_:1}),u.authStore.error?(p(),f(n,{key:0,class:"q-mt-md"},{default:o(()=>[t(g,{"inline-actions":"",rounded:"",class:"text-white bg-red"},{default:o(()=>[S(V(u.authStore.error),1)]),_:1})]),_:1})):x("",!0),t(n,null,{default:o(()=>[t(C,{onSubmit:B(u.loginHandler,["prevent"])},{default:o(()=>[t(d,{modelValue:u.email,"onUpdate:modelValue":a[0]||(a[0]=e=>u.email=e),type:"email",label:"Email",filled:"",hint:"Введите ваш email",rules:[e=>e&&e.length>0||"Email обязателен"],class:"q-mb-md"},null,8,["modelValue","rules"]),t(d,{modelValue:u.password,"onUpdate:modelValue":a[1]||(a[1]=e=>u.password=e),type:"password",label:"Пароль",filled:"",hint:"Введите ваш пароль",rules:[e=>e&&e.length>0||"Пароль обязателен"],class:"q-mb-md"},null,8,["modelValue","rules"]),t(y,{loading:u.authStore.loading,label:"Войти",color:"primary",type:"submit",class:"full-width"},null,8,["loading"])]),_:1})]),_:1})]),_:1})])]),_:1})}const j=w(v,[["render",P],["__file","LoginPage.vue"]]);export{j as default};
