import{N as h,Q as D,r as E,o as b,_ as B,S as r,T as l,U as s,X as c,V as a,W as p,Y as n,$ as f,a0 as S,a4 as x}from"./index-BWeAa12D.js";import{a as F,Q as A}from"./QToolbar-CSPdEhGe.js";import{Q as g}from"./QChip-DervPJ5R.js";import{Q as P}from"./QCardSection-BMQ9ORDW.js";import{Q as T}from"./QCardActions-BeLv3BDE.js";import{Q as j}from"./QCard-YAj_9Bf1.js";import{Q as q,a as H}from"./QInnerLoading-SYvrVGDp.js";import{Q as N}from"./QPage-BXWxzvs6.js";import{u as V}from"./use-quasar-DLt4aatT.js";import{a as R,S as L,b as z,r as I}from"./SpecialistPhoto-owiENopX.js";import{S as O}from"./StatusEnums-Cpn04w7a.js";import{D as G,F as M}from"./FilesList-BtnoEa4J.js";import{u as U}from"./stat-store-tQfgxQHD.js";import"./use-dark-Bc9c4c3V.js";import"./ImageFullscreen-C9jQqfIY.js";import"./focus-manager-zjdVGI5d.js";import"./QList-DKG-1yBc.js";import"./QBanner-C_5i-MuY.js";const W=h({__name:"ShowPage",props:{id:{type:String,required:!0}},setup(v,{expose:t}){t();const m=v,e=V(),_=D(),d=U(),u=E(!1),i=E(null),y=async o=>{u.value=!0;try{const C=await R(o);i.value=C.data.data}finally{u.value=!1}},Q=async()=>{if(i.value){u.value=!0;try{const o=await z(i.value.id);i.value=o.data.specialist,e.notify({message:o.data.message,color:"positive",position:"top",timeout:3e3}),await d.fetchStats()}finally{u.value=!1}}},k=async()=>{if(i.value){u.value=!0;try{const o=await I(i.value.id);i.value=o.data.specialist,e.notify({message:o.data.message,color:"positive",position:"top",timeout:3e3}),await d.fetchStats()}finally{u.value=!1}}};b(()=>{y(m.id)});const w={props:m,$q:e,router:_,statStore:d,loading:u,specialist:i,fetchSpecialistHandler:y,approveSpecialistHandler:Q,rejectSpecialistHandler:k,get StatusEnum(){return O},SpecialistPhoto:L,DateTime:G,FilesList:M};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}}),X={class:"text-h6"},Y={class:"q-mt-sm"},J={class:"q-mt-sm"},K={key:3,class:"q-mt-sm"};function Z(v,t,m,e,_,d){return e.specialist?(r(),l(N,{key:0,padding:""},{default:s(()=>[a(A,null,{default:s(()=>[a(p,{flat:"",icon:"arrow_back",onClick:t[0]||(t[0]=u=>e.router.go(-1))}),a(F,null,{default:s(()=>t[1]||(t[1]=[n("Информация о специалисте")])),_:1})]),_:1}),a(e.SpecialistPhoto,{specialist:e.specialist,fullscreen:!0,size:"14rem",width:224,height:224,class:"q-mb-md cursor-pointer"},null,8,["specialist"]),a(j,{bordered:""},{default:s(()=>[a(P,null,{default:s(()=>[f("div",X,S(e.specialist.firstname)+" "+S(e.specialist.lastname),1),e.specialist.status===e.StatusEnum.Accepted?(r(),l(g,{key:0,color:"green","text-color":"white",icon:"check"},{default:s(()=>t[2]||(t[2]=[n(" Подтверждён ")])),_:1})):e.specialist.status===e.StatusEnum.Rejected?(r(),l(g,{key:1,color:"red","text-color":"white",icon:"block"},{default:s(()=>t[3]||(t[3]=[n(" Отклонён ")])),_:1})):e.specialist.status===e.StatusEnum.OnReview?(r(),l(g,{key:2,color:"orange","text-color":"white",icon:"hourglass_empty"},{default:s(()=>t[4]||(t[4]=[n(" На проверке ")])),_:1})):c("",!0),f("div",Y,"Телефон: "+S(e.specialist.phone),1),f("div",J,[t[5]||(t[5]=n(" Дата регистрации: ")),a(e.DateTime,{"raw-date":e.specialist.created_at},null,8,["raw-date"])]),e.specialist.files?(r(),x("div",K,[t[6]||(t[6]=n(" Документы: ")),a(e.FilesList,{files:e.specialist.files},null,8,["files"])])):c("",!0)]),_:1}),a(T,null,{default:s(()=>[e.specialist.status!=e.StatusEnum.Accepted&&!e.loading?(r(),l(p,{key:0,label:"Подтвердить",color:"green",onClick:e.approveSpecialistHandler})):c("",!0),e.specialist.status!=e.StatusEnum.Rejected&&!e.loading?(r(),l(p,{key:1,label:"Отклонить",color:"red",onClick:e.rejectSpecialistHandler})):c("",!0)]),_:1})]),_:1}),a(H,{showing:e.loading},{default:s(()=>[a(q,{size:"5rem",color:"primary"})]),_:1},8,["showing"])]),_:1})):c("",!0)}const ve=B(W,[["render",Z],["__file","ShowPage.vue"]]);export{ve as default};
