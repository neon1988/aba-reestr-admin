import{M as q,N as T,r as b,o as _,_ as P,Q as a,R as f,S as o,V as s,T as r,U as p,W as n,Z as l,Y as t,a1 as c}from"./index-BRIAkyOr.js";import{a as j,Q as H}from"./QToolbar-63NGCZOi.js";import{Q as D}from"./QChip-CL2aa393.js";import{Q as y}from"./QSeparator-W4xMwwT-.js";import{Q as C}from"./QCardSection-DGOrEM9j.js";import{Q as k}from"./QCard-D1WMg2OF.js";import{Q as N}from"./QCardActions-DA070hwb.js";import{Q as R,a as V}from"./QInnerLoading--_NxL8nV.js";import{Q as L}from"./QPage-cSry3vdc.js";import{u as z}from"./use-quasar-BlsjSXDb.js";import{a as I,C as M,b as O,r as G}from"./CenterPhoto-CcezDxLW.js";import{S as U}from"./StatusEnums-Cpn04w7a.js";import{D as W}from"./DateTime-B3dVrryG.js";import{u as Y}from"./stat-store-D1lD2twC.js";import{F as Z}from"./FilesList-BFNVwSFR.js";import"./use-dark-CT7DvVAR.js";import"./use-transition-DaJl48lr.js";import"./ImageFullscreen-9km3YxWT.js";import"./QDialog-DPbThiRL.js";import"./focus-manager-BJWzFvJg.js";import"./date-De9hRpoY.js";import"./format-DyQxkAtJ.js";import"./QItem-BymqpaLI.js";import"./QList-CmW8my4R.js";import"./QBanner-BMl3DSOV.js";const J=q({__name:"ShowPage",props:{id:{type:String,required:!0}},setup(S,{expose:e}){e();const v=S,u=z(),E=T(),g=Y(),d=b(!1),i=b(null),w=async m=>{d.value=!0;try{const A=await I(m);i.value=A.data.data}finally{d.value=!1}},B=async()=>{if(i.value){d.value=!0;try{const m=await O(i.value.id);i.value=m.data.center,u.notify({message:m.data.message,color:"positive",position:"top",timeout:3e3}),await g.fetchStats()}finally{d.value=!1}}},x=async()=>{if(i.value){d.value=!0;try{const m=await G(i.value.id);i.value=m.data.center,u.notify({message:m.data.message,color:"positive",position:"top",timeout:3e3}),await g.fetchStats()}finally{d.value=!1}}},F=()=>{E.go(-1)};_(()=>{w(v.id)});const Q={props:v,$q:u,router:E,statStore:g,loading:d,center:i,fetchCenterHandler:w,approveCenterHandler:B,rejectCenterHandler:x,goBack:F,get StatusEnum(){return U},DateTime:W,FilesList:Z,CenterPhoto:M};return Object.defineProperty(Q,"__isScriptSetup",{enumerable:!1,value:!0}),Q}}),K={key:3},X={key:4},h={key:0},$={key:1},uu={key:0,class:"q-mt-sm"};function eu(S,e,v,u,E,g){return u.center?(a(),f(L,{key:0,padding:""},{default:o(()=>[r(H,{class:"q-mb-md"},{default:o(()=>[r(p,{flat:"",icon:"arrow_back",onClick:u.goBack,class:"q-mr-md"}),r(j,null,{default:o(()=>[n(l(u.center.name)+" - Центр",1)]),_:1})]),_:1}),r(u.CenterPhoto,{center:u.center,size:"14rem",fullscreen:!0,alt:"Фото центра",class:"q-mb-md cursor-pointer",width:224,height:224},null,8,["center"]),r(k,{class:"q-mb-md",bordered:""},{default:o(()=>[r(C,null,{default:o(()=>[u.center.status===u.StatusEnum.Accepted?(a(),f(D,{key:0,color:"green","text-color":"white",icon:"check"},{default:o(()=>e[0]||(e[0]=[n(" Подтверждён ")])),_:1})):u.center.status===u.StatusEnum.Rejected?(a(),f(D,{key:1,color:"red","text-color":"white",icon:"block"},{default:o(()=>e[1]||(e[1]=[n(" Отклонён ")])),_:1})):u.center.status===u.StatusEnum.OnReview?(a(),f(D,{key:2,color:"orange","text-color":"white",icon:"hourglass_empty"},{default:o(()=>e[2]||(e[2]=[n(" На проверке ")])),_:1})):s("",!0),e[9]||(e[9]=t("div",{class:"text-h6"},"Основная информация",-1)),r(y,{class:"q-my-sm"}),t("div",null,[e[3]||(e[3]=t("strong",null,"Юридическое название:",-1)),n(" "+l(u.center.legal_name),1)]),t("div",null,[e[4]||(e[4]=t("strong",null,"ИНН:",-1)),n(" "+l(u.center.inn),1)]),u.center.kpp?(a(),c("div",K,[e[5]||(e[5]=t("strong",null,"КПП:",-1)),n(" "+l(u.center.kpp),1)])):s("",!0),t("div",null,[e[6]||(e[6]=t("strong",null,"Страна:",-1)),n(" "+l(u.center.country),1)]),u.center.region?(a(),c("div",X,[e[7]||(e[7]=t("strong",null,"Регион:",-1)),n(" "+l(u.center.region),1)])):s("",!0),t("div",null,[e[8]||(e[8]=t("strong",null,"Город:",-1)),n(" "+l(u.center.city),1)])]),_:1})]),_:1}),r(k,{class:"q-mb-md",bordered:""},{default:o(()=>[r(C,null,{default:o(()=>[e[13]||(e[13]=t("div",{class:"text-h6"},"Контактная информация",-1)),r(y,{class:"q-my-sm"}),t("div",null,[e[10]||(e[10]=t("strong",null,"Телефон:",-1)),n(" "+l(u.center.phone),1)]),u.center.services?(a(),c("div",h,[e[11]||(e[11]=t("strong",null,"Услуги:",-1)),n(" "+l(u.center.services),1)])):s("",!0),u.center.intensives?(a(),c("div",$,[e[12]||(e[12]=t("strong",null,"Интенсивы:",-1)),n(" "+l(u.center.intensives),1)])):s("",!0)]),_:1})]),_:1}),r(k,{class:"q-mb-md",bordered:""},{default:o(()=>[r(C,null,{default:o(()=>[e[18]||(e[18]=t("div",{class:"text-h6"},"Дата создания и обновления",-1)),r(y,{class:"q-my-sm"}),t("div",null,[e[14]||(e[14]=t("strong",null,"Создано:",-1)),e[15]||(e[15]=n("  ")),r(u.DateTime,{"raw-date":u.center.created_at},null,8,["raw-date"])]),t("div",null,[e[16]||(e[16]=t("strong",null,"Обновлено:",-1)),e[17]||(e[17]=n("  ")),r(u.DateTime,{"raw-date":u.center.updated_at},null,8,["raw-date"])])]),_:1})]),_:1}),u.center.files?(a(),c("div",uu,[e[19]||(e[19]=n(" Документы: ")),r(u.FilesList,{files:u.center.files},null,8,["files"])])):s("",!0),r(N,null,{default:o(()=>[u.center.status!=u.StatusEnum.Accepted&&!u.loading?(a(),f(p,{key:0,label:"Подтвердить",color:"green",onClick:u.approveCenterHandler})):s("",!0),u.center.status!=u.StatusEnum.Rejected&&!u.loading?(a(),f(p,{key:1,label:"Отклонить",color:"red",onClick:u.rejectCenterHandler})):s("",!0)]),_:1}),r(V,{showing:u.loading},{default:o(()=>[r(R,{size:"5rem",color:"primary"})]),_:1},8,["showing"])]),_:1})):s("",!0)}const xu=P(J,[["render",eu],["__file","ShowPage.vue"]]);export{xu as default};
